{% extends 'base.html' %}
{% load bootstrap3 %}

<!DOCTYPE html>
<html lang="en">
{% block head_block %}
    <meta charset="UTF-8">
    <title>{{ contest_data.title }} Contest</title>
{% endblock %}
{% block body_block %}
    <br /><br />
    <h1>Contest: {{ contest_data.title }}</h1>
    <br />
    {% if is_judge %}
        <a href="{% url 'contests:contest_judge_submissions' contest_data.id %}">View all submissions</a>
    {% endif %}
    <br />
    {% for team in contest_teams %}
        <a href="{% url 'contests:contest_submissions' contest_data.id team.id %}">View team {{team.id}}'s submissions</a>
        <br />
    {% endfor %}
    <h3>Contest Problems:</h3>
    <div class="panel-group" id="accordion">
    {% for problem in contest_problems %}
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <!-- the data-parent attribute make sure only one panel is open at a time-->
                        <div data-toggle="collapse" data-parent="#accordion" data-target="#collapse{{ forloop.counter }}">
                        Problem {{ forloop.counter }}</div>
                    </h4>
                </div>
                <div id="collapse{{ forloop.counter }}" class="panel-collapse collapse">
                    <ul class="list-group">
                        <li class="list-group-item">Solution: {{ problem.solution }}</li>
                        <li class="list-group-item">Input Description: {{ problem.input_description }}</li>
                        <li class="list-group-item">Output Description: {{ problem.output_description }}</li>
                        <li class="list-group-item">Sample Input: {{ problem.sample_input }}</li>
                        <li class="list-group-item">Sample Output: {{ problem.sample_output }}</li>
                    </ul>
                </div>
            </div>
    {% endfor %}
    </div>
{% endblock %}
</html>
